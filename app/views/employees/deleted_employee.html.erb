<div class ="container">
  <h1>All deleted employee</h1>
  <div class="table-responsive">
    <table class="table"id="userTables">
      <tr>
        <th>id</th>
        <th> Employee name</th>
        <th>Designation</th>
        <th>Action</th>
      </tr>
      <%= form_for :employees, url: "/bulk_destroy/" do |form| %>
      <input type = "checkbox" id = "select_all" onchange="checkAll(this)">
      <label for="select_all">Select all</label>
      </td>
      <% @employee.each do |employee| %>
        <tr>
          <td>
            <%= employee.id %> <input type="checkbox" name="collection_ids[]" value="<%= employee.id %>" />
          <td>
            <%=  employee.name %>
          </td>
          <td>
            <%= Department.find(employee.department_id).name%>
          </td>
          <td>
            <%= link_to "restore", restore_employee_path(employee.id),method: :put , class:"btn btn-success"%>
          </td>
          <td>
            <%= link_to "Delete ", really_destroy_path(employee.id), method: :delete ,class:"btn btn-danger"%>
          </td>
        </tr>
      <%end%>
      <%= form.submit "Delete All" %>
      <%end%>
    </table>
  </div>
</div>

<script>
  var checkboxes = document.querySelectorAll("input[type = 'checkbox']");
  function checkAll(myCheckbox){
  if(myCheckbox.checked == true){
  checkboxes.forEach(function(checkbox){
  checkbox.checked = true;
  });
  }
  else{
  checkboxes.forEach(function(checkbox){
  checkbox.checked = false;
  });
  }

  }
</script>
